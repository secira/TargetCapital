{% extends "base.html" %}

{% block title %}Pricing - Choose Your AI Trading Plan | Target Capital{% endblock %}

{% block description %}Transparent pricing for AI-powered stock trading. Choose from Starter, Professional, or Enterprise plans. No hidden fees, 30-day free trial available.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-white" style="padding-top: 140px; padding-bottom: 60px;">
    <div class="container">
        <div class="row text-center">
            <div class="col-lg-8 mx-auto">
                <h1 class="display-4 fw-bold text-dark mb-4">
                    Simple, transparent pricing
                </h1>
                <p class="lead text-muted mb-5" style="font-size: 1.2rem;">
                    No hidden fees. Scale your trading from analysis to execution. Cancel anytime.
                </p>
                
                <!-- Billing Toggle -->
                <div class="d-flex justify-content-center align-items-center mb-5">
                    <span class="me-3 fw-medium">Monthly</span>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="billingToggle" style="transform: scale(1.5);">
                        <label class="form-check-label ms-3 fw-medium" for="billingToggle">
                            Annual <span class="badge bg-success ms-1">-20%</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Pricing Cards -->
<section class="bg-light" style="padding: 60px 0;">
    <div class="container">
        <div class="row g-4">
            <!-- Target Plus -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100" style="border-radius: 16px;">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h4 class="fw-bold text-dark mb-2">Target Plus</h4>
                            <p class="text-muted mb-4">For portfolio analysis</p>
                            
                            <div class="pricing-display d-flex align-items-baseline justify-content-center">
                                <h2 class="display-4 fw-bold text-primary mb-0 me-2">
                                    <span class="price-amount monthly-price">1499</span>
                                </h2>
                                <small class="text-muted billing-period">/month</small>
                            </div>
                        </div>
                        
                        <div class="features-list mb-4">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>AI stock analysis</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Daily trading signals</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Real-time market data</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Portfolio tracking</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>1 broker connection</li>
                                <li class="mb-2"><i class="fas fa-times text-muted me-2"></i>No Trade Plus</li>
                            </ul>
                        </div>
                        
                        {% if current_user.is_authenticated %}
                            {% if current_subscription and current_subscription.plan == 'FREE' %}
                                <a href="{{ url_for('subscribe', plan_type='target_plus') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Upgrade Now</a>
                            {% elif current_subscription and current_subscription.plan == 'TARGET_PLUS' %}
                                <span class="btn btn-success w-100 py-3 rounded-pill fw-semibold disabled">Current Plan</span>
                            {% else %}
                                <a href="{{ url_for('subscribe', plan_type='target_plus') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Select Plan</a>
                            {% endif %}
                        {% else %}
                            <a href="{{ url_for('register') }}" class="btn btn-outline-primary w-100 py-3 rounded-pill fw-semibold">Get Started</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Target Pro -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-lg h-100 position-relative popular-card" style="border-radius: 16px;">
                    <div class="position-absolute top-0 start-50 translate-middle">
                        <span class="badge bg-primary px-3 py-2 rounded-pill">Most Popular</span>
                    </div>
                    
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h4 class="fw-bold text-dark mb-2">Target Pro</h4>
                            <p class="text-muted mb-4">For active traders</p>
                            
                            <div class="pricing-display d-flex align-items-baseline justify-content-center">
                                <h2 class="display-4 fw-bold text-primary mb-0 me-2">
                                    <span class="price-amount monthly-price">2499</span>
                                </h2>
                                <small class="text-muted billing-period">/month</small>
                            </div>
                        </div>
                        
                        <div class="features-list mb-4">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>All Plus features</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Portfolio optimization</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>3 broker connections</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Trade Plus (1 primary broker)</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Priority email support</li>
                            </ul>
                        </div>
                        
                        {% if current_user.is_authenticated %}
                            {% if current_subscription and current_subscription.plan == 'TARGET_PRO' %}
                                <span class="btn btn-success w-100 py-3 rounded-pill fw-semibold disabled">Current Plan</span>
                            {% else %}
                                <a href="{{ url_for('subscribe', plan_type='target_pro') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Upgrade Now</a>
                            {% endif %}
                        {% else %}
                            <a href="{{ url_for('register') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Get Started</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- HNI Account -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100" style="border-radius: 16px;">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h4 class="fw-bold text-dark mb-2">HNI Account</h4>
                            <p class="text-muted mb-4">For busy HNI investors</p>
                            
                            <div class="pricing-display d-flex align-items-baseline justify-content-center">
                                <h2 class="display-4 fw-bold text-primary mb-0 me-2">
                                    <span class="price-amount monthly-price">4999</span>
                                </h2>
                                <small class="text-muted billing-period">/month</small>
                            </div>
                        </div>
                        
                        <div class="features-list mb-4">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>All Pro features</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>3 broker connections</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Trade Plus (1 primary broker)</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Dedicated account manager</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Premium 24/7 support</li>
                            </ul>
                        </div>
                        
                        <a href="{{ url_for('contact') }}" class="btn btn-outline-primary w-100 py-3 rounded-pill fw-semibold">
                            Contact Sales
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Feature Comparison -->
<section class="bg-white" style="padding: 80px 0;">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="fw-bold text-dark mb-3">Compare Plans</h2>
            </div>
        </div>
        
        <div class="row">
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table table-borderless">
                        <thead class="bg-light">
                            <tr>
                                <th class="py-4 fw-semibold" style="width: 40%;">Features</th>
                                <th class="py-4 text-center fw-semibold">Target Plus</th>
                                <th class="py-4 text-center fw-semibold">Target Pro</th>
                                <th class="py-4 text-center fw-semibold">HNI</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="py-3">AI Advisor Queries</td>
                                <td class="py-3 text-center">Up to 10</td>
                                <td class="py-3 text-center">Unlimited</td>
                                <td class="py-3 text-center">Unlimited</td>
                            </tr>
                            <tr class="bg-light">
                                <td class="py-3">Trading Signals</td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr>
                                <td class="py-3">Portfolio Analysis</td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr class="bg-light">
                                <td class="py-3">Portfolio Optimization</td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr>
                                <td class="py-3">Trade Plus (1 Primary Broker)</td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr class="bg-light">
                                <td class="py-3">Broker Connections</td>
                                <td class="py-3 text-center">1</td>
                                <td class="py-3 text-center">3</td>
                                <td class="py-3 text-center">3</td>
                            </tr>
                            <tr class="bg-light">
                                <td class="py-3">Dedicated Account Manager</td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr>
                                <td class="py-3">Support Level</td>
                                <td class="py-3 text-center">Community</td>
                                <td class="py-3 text-center">Priority Email</td>
                                <td class="py-3 text-center">Premium 24/7</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="bg-primary text-white" style="padding: 60px 0;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="fw-bold mb-3">Ready to trade smarter?</h2>
                <p class="lead mb-4">
                    Start free. Upgrade when you're ready. No credit card required.
                </p>
                
                <div class="d-flex flex-wrap justify-content-center gap-3">
                    <a href="{{ url_for('register') }}" class="btn btn-light btn-lg px-5 py-3 rounded-pill fw-semibold">
                        Start Free
                    </a>
                    <a href="{{ url_for('contact') }}" class="btn btn-outline-light btn-lg px-5 py-3 rounded-pill fw-semibold">
                        Contact Sales
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
// Billing toggle functionality
document.addEventListener('DOMContentLoaded', function() {
    const billingToggle = document.getElementById('billingToggle');
    const monthlyPrices = document.querySelectorAll('.monthly-price');
    const annualPrices = document.querySelectorAll('.annual-price');
    const billingPeriods = document.querySelectorAll('.billing-period');
    
    billingToggle.addEventListener('change', function() {
        if (this.checked) {
            // Show annual prices and update text
            monthlyPrices.forEach(el => el.style.display = 'none');
            annualPrices.forEach(el => el.style.display = 'inline');
            billingPeriods.forEach(el => el.textContent = '/year');
        } else {
            // Show monthly prices and update text
            monthlyPrices.forEach(el => el.style.display = 'inline');
            annualPrices.forEach(el => el.style.display = 'none');
            billingPeriods.forEach(el => el.textContent = '/month');
        }
    });
});

// Add responsive popular card styling
const style = document.createElement('style');
style.textContent = `
    .popular-card {
        border: 2px solid #0d6efd !important;
    }
    @media (min-width: 992px) {
        .popular-card {
            transform: scale(1.03);
        }
    }
    .price-amount {
        min-width: 120px;
        display: inline-block;
        text-align: center;
    }
`;
document.head.appendChild(style);
</script>

{% endblock %}
