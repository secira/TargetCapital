{% extends "base.html" %}

{% block title %}Pricing - Choose Your AI Trading Plan | Target Capital{% endblock %}

{% block description %}Transparent pricing for AI-powered stock trading. Choose from Starter, Professional, or Enterprise plans. No hidden fees, 30-day free trial available.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-white" style="padding-top: 140px; padding-bottom: 60px;">
    <div class="container">
        <div class="row text-center">
            <div class="col-lg-8 mx-auto">
                <h1 class="display-4 fw-bold text-dark mb-4">
                    Plans that scale with your trading growth
                </h1>
                <p class="lead text-muted mb-5" style="font-size: 1.2rem;">
                    Built to grow with you, from first trade to portfolio dominance. Transparent pricing, no hidden fees.
                </p>
                
                <!-- Billing Toggle -->
                <div class="d-flex justify-content-center align-items-center mb-5">
                    <span class="me-3 fw-medium">Monthly</span>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="billingToggle" style="transform: scale(1.5);">
                        <label class="form-check-label ms-3 fw-medium" for="billingToggle">
                            Annual <span class="badge bg-success ms-1">-20%</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Pricing Cards -->
<section class="bg-light" style="padding: 60px 0;">
    <div class="container">
        <div class="row g-4">
            <!-- Starter Plan -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100" style="border-radius: 16px;">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h4 class="fw-bold text-dark mb-2">Target Plus</h4>
                            <p class="text-muted mb-4">Great for portfolio analysis</p>
                            
                            <div class="pricing-display d-flex align-items-baseline justify-content-center">
                                <h2 class="display-4 fw-bold text-primary mb-0 me-2">
                                    <span class="price-amount monthly-price">1499</span>
                                </h2>
                                <small class="text-muted billing-period">/month</small>
                            </div>
                        </div>
                        
                        <div class="features-list mb-4">
                            <p class="fw-semibold mb-3">What's included:</p>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>AI stock analysis</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Daily Trading Signals</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>NSE India real-time data</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Portfolio tracking</li>
                                 <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Single Broker Connection</li>
                                <li class="mb-2"><i class="fas fa-times text-muted me-2"></i>No Trade Support</li>
                            </ul>
                        </div>
                        
                        {% if current_user.is_authenticated %}
                            {% if current_subscription and current_subscription.plan == 'FREE' %}
                                <a href="{{ url_for('subscribe', plan_type='target_plus') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Upgrade Now</a>
                            {% elif current_subscription and current_subscription.plan == 'TARGET_PLUS' %}
                                <span class="btn btn-success w-100 py-3 rounded-pill fw-semibold disabled">Current Plan</span>
                            {% else %}
                                <a href="{{ url_for('subscribe', plan_type='target_plus') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Select Plan</a>
                            {% endif %}
                        {% else %}
                            <a href="{{ url_for('register') }}" class="btn btn-outline-primary w-100 py-3 rounded-pill fw-semibold">Get Started</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Professional Plan -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-lg h-100 position-relative popular-card" style="border-radius: 16px;">
                    <!-- Popular Badge -->
                    <div class="position-absolute top-0 start-50 translate-middle">
                        <span class="badge bg-primary px-3 py-2 rounded-pill">Most Popular</span>
                    </div>
                    
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h4 class="fw-bold text-dark mb-2">Target Pro</h4>
                            <p class="text-muted mb-4">Great for traders who want to execute orders</p>
                            
                            <div class="pricing-display d-flex align-items-baseline justify-content-center">
                                <h2 class="display-4 fw-bold text-primary mb-0 me-2">
                                    <span class="price-amount monthly-price">2499</span>
                                </h2>
                                <small class="text-muted billing-period">/month</small>
                            </div>
                        </div>
                        
                        <div class="features-list mb-4">
                            <p class="fw-semibold mb-3">Target Pro:</p>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>AI stock analysis</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Daily Trading Signals</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>NSE India real-time data</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Portfolio optimization</li>
                                 <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Connect to a broker</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Trade with 1 broker only</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Trade Support</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Priority email support</li>
                            </ul>
                        </div>
                        
                        {% if current_user.is_authenticated %}
                            {% if current_subscription and current_subscription.plan == 'TARGET_PRO' %}
                                <span class="btn btn-success w-100 py-3 rounded-pill fw-semibold disabled">Current Plan</span>
                            {% else %}
                                <a href="{{ url_for('subscribe', plan_type='target_pro') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Upgrade Now</a>
                            {% endif %}
                        {% else %}
                            <a href="{{ url_for('register') }}" class="btn btn-primary w-100 py-3 rounded-pill fw-semibold">Get Started</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Enterprise Plan -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100" style="border-radius: 16px;">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h4 class="fw-bold text-dark mb-2">HNI Account</h4>
                            <p class="text-muted mb-4">For HNI with busy schedule</p>
                            
                            <div class="pricing-display d-flex align-items-baseline justify-content-center">
                                <h2 class="display-4 fw-bold text-primary mb-0 me-2">
                                    <span class="price-amount monthly-price">4999</span>
                                </h2>
                                <small class="text-muted billing-period">/month</small>
                            </div>
                        </div>
                        
                        <div class="features-list mb-4">
                            <p class="fw-semibold mb-3">We can help you grow with minimum risk:</p>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>All Benefits of Target Pro</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Dedicated account manager</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Premium dedicated support</li>
                            </ul>
                        </div>
                        
                        <a href="{{ url_for('contact') }}" class="btn btn-outline-primary w-100 py-3 rounded-pill fw-semibold">
                            Contact Sales
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Feature Comparison -->
<section class="bg-white" style="padding: 80px 0;">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="fw-bold text-dark mb-3">Compare Plans & Features</h2>
                <p class="text-muted">Choose the plan that fits your trading style and goals</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table table-borderless">
                        <thead class="bg-light">
                            <tr>
                                <th class="py-4 fw-semibold" style="width: 40%;">Features</th>
                                <th class="py-4 text-center fw-semibold">Target Plus</th>
                                <th class="py-4 text-center fw-semibold">Target Pro</th>
                                <th class="py-4 text-center fw-semibold">HNI</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="py-3">AI Advisor</td>
                                <td class="py-3 text-center">Up to 10</td>
                                <td class="py-3 text-center">Unlimited</td>
                                <td class="py-3 text-center">Unlimited</td>
                            </tr>
                            <tr class="bg-light">
                                <td class="py-3">Trading Signal</td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr>
                                <td class="py-3">Stock Picker</td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr class="bg-light">
                                <td class="py-3">Portfolio Optimization</td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr>
                                <td class="py-3">Account Manager</td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr class="bg-light">
                                <td class="py-3">Trade Support</td>
                                <td class="py-3 text-center"><i class="fas fa-times text-muted"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                                <td class="py-3 text-center"><i class="fas fa-check text-success"></i></td>
                            </tr>
                            <tr>
                                <td class="py-3">Support Level</td>
                                <td class="py-3 text-center">Community</td>
                                <td class="py-3 text-center">Priority Email</td>
                                <td class="py-3 text-center">Premium Support</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="bg-light" style="padding: 80px 0;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="fw-bold text-dark mb-3">Frequently Asked Questions</h2>
                <p class="text-muted">Everything you need to know about our AI trading platform and pricing</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="accordion" id="pricingFAQ">
                    <div class="accordion-item border-0 mb-3" style="border-radius: 12px;">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                Do I need to pay anything to try Target Capital?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body">
                               You can start your account free and start using AI Advisor. You can upgrade to other plans as per your need.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item border-0 mb-3" style="border-radius: 12px;">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                Can I move to Paid account anytime?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body">
                                Yes you move to paid accounts anytime you need.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item border-0 mb-3" style="border-radius: 12px;">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                Which plan is right for me?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body">If you want to receive trading signals, AI Advisor, and portfolio analysis with one broker (no trading), the Target Plus plan is perfect for you. If you want to connect multiple brokers for analysis and trade with one broker, the Target Pro plan is ideal. For HNI clients, the HNI Account offers dedicated support and account management.  
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item border-0 mb-3" style="border-radius: 12px;">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                Can I switch plans later?
                            </button>
                        </h2>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body">
                                Absolutely! You can upgrade or downgrade your plan at any time. Changes take effect immediately, and we'll prorate any billing adjustments.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item border-0 mb-3" style="border-radius: 12px;">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                Is my trading data safe with Target Capital?
                            </button>
                        </h2>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body">
                                Yes! We use bank-level encryption and never store your brokerage credentials. All data is encrypted in transit and at rest. We're SOC 2 compliant and follow strict security protocols.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item border-0" style="border-radius: 12px;">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                                What payment methods do you accept?
                            </button>
                        </h2>
                        <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#pricingFAQ">
                            <div class="accordion-body">
                                We accept all major credit cards. All payments are processed securely through Razorpay
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="bg-white" style="padding: 80px 0;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="fw-bold text-dark mb-3">Ready to supercharge your trading?</h2>
                <p class="lead text-muted mb-5">
                    Join thousands of traders using AI to make smarter investment decisions. Start today!
                </p>
                
                <div class="d-flex flex-wrap justify-content-center gap-3">
                    <a href="{{ url_for('register') }}" class="btn btn-primary btn-lg px-5 py-3 rounded-pill">
                        Start Today
                    </a>
                    <a href="{{ url_for('contact') }}" class="btn btn-outline-primary btn-lg px-5 py-3 rounded-pill">
                        Contact Sales
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
// Billing toggle functionality
document.addEventListener('DOMContentLoaded', function() {
    const billingToggle = document.getElementById('billingToggle');
    const monthlyPrices = document.querySelectorAll('.monthly-price');
    const annualPrices = document.querySelectorAll('.annual-price');
    const billingPeriods = document.querySelectorAll('.billing-period');
    
    billingToggle.addEventListener('change', function() {
        if (this.checked) {
            // Show annual prices and update text
            monthlyPrices.forEach(el => el.style.display = 'none');
            annualPrices.forEach(el => el.style.display = 'inline');
            billingPeriods.forEach(el => el.textContent = '/year');
        } else {
            // Show monthly prices and update text
            monthlyPrices.forEach(el => el.style.display = 'inline');
            annualPrices.forEach(el => el.style.display = 'none');
            billingPeriods.forEach(el => el.textContent = '/month');
        }
    });
});

// Add responsive popular card styling
const style = document.createElement('style');
style.textContent = `
    .popular-card {
        border: 2px solid #0d6efd !important;
    }
    @media (min-width: 992px) {
        .popular-card {
            transform: scale(1.03);
        }
    }
    .price-amount {
        min-width: 120px;
        display: inline-block;
        text-align: center;
    }
`;
document.head.appendChild(style);
</script>

{% endblock %}